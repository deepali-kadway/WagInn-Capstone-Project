<app-header></app-header>

<div class="main-content">
  <div class="row justify-content-center min-vh-100 align-items-center">
    <!-- col-12: for mobile(< 768px), fullwidth(12/12 columns)-->
    <!-- col-md-10: medium screens (768px+), 10/12 columns -->
    <!-- col-lg=8: Large screens (992px +), 8/12 columns-->
    <div class="col-12 col-md-10 col-lg-8">
      <!-- Registration Card -->
      <div class="registration-card shadow-sm">
        <!-- Step 3: Pet Info -->
        <div>
          <!-- Basic Pet Info -->
          <div class="text-center mb-4">
            <h2 class="registration-title">Pet Rules & Information</h2>
            <p class="text-muted">Confirm your pet stay requirements</p>
          </div>
          <form [formGroup]="registrationForm">
            <div class="mb-3">
              <label class="form-label section-label"
                >Select Allowed Pets</label
              >
              <select
                class="form-select custom-input"
                formControlName="allowedPetsType"
                multiple
              >
                <option value="dogs">Dogs</option>
                <option value="cats">Cats</option>
                <option value="birds">Birds</option>
              </select>
              <small class="form-text text-muted"
                >Select all pet types allowed.</small
              >
            </div>
            <div *ngIf="allowedPetsType?.invalid && allowedPetsType?.touched">
              <div
                class="text-danger validation-error"
                *ngIf="allowedPetsType?.errors?.['required']"
              >
                Select atleast one type
              </div>
            </div>

            <!-- Pet Size restrictions-->
            <div class="mb-3">
              <label class="form-label section-label"
                >Pet Size Restrictions</label
              >
              <div
                class="btn-group"
                role="group"
                formGroupName="petSizeRestrictions"
              >
                <div>
                  <input
                    type="checkbox"
                    class="btn-check custom-input"
                    id="sizeSmall"
                    formControlName="small"
                    autocomplete="off"
                  />
                  <label
                    class="btn btn-outline-secondary custom-input"
                    for="sizeSmall"
                    >Small</label
                  >
                  <input
                    type="checkbox"
                    class="btn-check custom-input"
                    id="sizeMedium"
                    formControlName="medium"
                    autocomplete="off"
                  />
                  <label
                    class="btn btn-outline-secondary custom-input"
                    for="sizeMedium"
                    >Medium</label
                  >
                  <input
                    type="checkbox"
                    class="btn-check custom-input"
                    id="sizeLarge"
                    formControlName="large"
                    autocomplete="off"
                  />
                  <label
                    class="btn btn-outline-secondary custom-input"
                    for="sizeLarge"
                    >Large</label
                  >
                  <input
                    type="checkbox"
                    class="btn-check custom-input"
                    id="sizeNone"
                    formControlName="none"
                    autocomplete="off"
                  />
                  <label
                    class="btn btn-outline-secondary custom-input"
                    for="sizeNone"
                    >None</label
                  >
                </div>
              </div>
              <div
                *ngIf="
                  petSizeRestrictions?.invalid && petSizeRestrictions?.touched
                "
              >
                <div
                  class="text-danger validation-error-size"
                  *ngIf="petSizeRestrictions?.errors?.['required']"
                >
                  Please select at least one pet size option
                </div>
                <div
                  class="text-danger validation-error-size"
                  *ngIf="petSizeRestrictions?.errors?.['conflictingSelection']"
                >
                  Cannot select 'None' with other size options
                </div>
              </div>
            </div>

            <!-- Total Allowed Pets -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Number of Pets Allowed</label
              >
              <input
                type="number"
                class="form-control custom-input"
                min="1"
                max="4"
                formControlName="numberOfPetsAllowed"
                placeholder="e.g. 2"
              />
            </div>
            <div
              *ngIf="
                numberOfPetsAllowed?.invalid && numberOfPetsAllowed?.touched
              "
            >
              <div
                class="text-danger validation-error"
                *ngIf="numberOfPetsAllowed?.errors?.['required']"
              >
                Allowed number of pets required
              </div>
            </div>

            <!-- House Rules for Pets -->
            <div class="mb-3">
              <label class="form-label section-label">House Rules</label>
              <textarea
                class="form-control custom-input"
                rows="3"
                formControlName="houseRules"
                placeholder="Describe any house rules for pets..."
              ></textarea>
            </div>
            <div *ngIf="houseRules?.invalid && houseRules?.touched">
              <div
                class="text-danger validation-error"
                *ngIf="houseRules?.errors?.['required']"
              ></div>
            </div>

            <!-- Required Vaccinations Dropdown (Multi-select) -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Required Vaccinations</label
              >
              <select
                class="form-select custom-select"
                formControlName="requiredVaccinations"
                size="5"
                multiple
              >
                <option
                  *ngFor="let vaccinationName of vaccinationsName"
                  [value]="vaccinationName.id"
                >
                  {{ vaccinationName.name }}
                </option>
              </select>
              <small class="form-text text-muted"
                >Select all required vaccinations.</small
              >
            </div>
            <div
              *ngIf="
                requiredVaccinations?.invalid && requiredVaccinations?.touched
              "
            >
              <div
                class="text-danger validation-error"
                *ngIf="requiredVaccinations?.errors?.['required']"
              ></div>
            </div>

            <!-- Neutered/Spayed Requirement -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Neutered/Spayed Required?</label
              >
              <div>
                <input
                  type="radio"
                  id="neuteredYes"
                  value="yes"
                  formControlName="neuteredSpayedRequired"
                  class="form-check-input"
                />
                <label for="neuteredYes" class="form-check-label me-3"
                  >Yes</label
                >
                <input
                  type="radio"
                  id="neuteredNo"
                  value="no"
                  formControlName="neuteredSpayedRequired"
                  class="form-check-input"
                />
                <label for="neuteredNo" class="form-check-label">No</label>
              </div>
            </div>

            <!-- Flea/Tick Prevention Required -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Flea/Tick Prevention Required?</label
              >
              <div>
                <input
                  type="radio"
                  id="fleatickYes"
                  value="yes"
                  formControlName="fleaTickPreventionRequired"
                  class="form-check-input"
                />
                <label for="fleatickYes" class="form-check-label me-3"
                  >Yes</label
                >
                <input
                  type="radio"
                  id="fleatickNo"
                  value="no"
                  formControlName="fleaTickPreventionRequired"
                  class="form-check-input"
                />
                <label for="fleatickNo" class="form-check-label">No</label>
              </div>
            </div>

            <div class="row g-2 mb-4">
              <div class="col-6">
                <button
                  type="button"
                  class="btn btn-outline-secondary back-btn w-100 h-100"
                  (click)="prevStep()"
                >
                  Back
                </button>
              </div>
              <div class="col-6">
                <button
                  type="button"
                  class="btn btn-primary submit-btn w-100 h-100"
                  (click)="nextStep()"
                >
                  Next
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
