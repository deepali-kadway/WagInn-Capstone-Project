<app-header></app-header>

<!-- Progress Indicator -->
<div class="container-fluid main-content">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div class="progress-container mb-4">
        <div class="progress-steps">
          <div
            class="progress-step"
            [class.active]="currentStep >= 1"
            [class.completed]="currentStep > 1"
          >
            <span class="step-number">1</span>
            <span class="step-label">Personal Info</span>
          </div>
          <div
            class="progress-step"
            [class.active]="currentStep >= 2"
            [class.completed]="currentStep > 2"
          >
            <span class="step-number">2</span>
            <span class="step-label">Address Details</span>
          </div>
          <div
            class="progress-step"
            [class.active]="currentStep >= 3"
            [class.completed]="currentStep > 3"
          >
            <span class="step-number">3</span>
            <span class="step-label">Pet Info</span>
          </div>
          <div
            class="progress-step"
            [class.active]="currentStep >= 4"
            [class.completed]="currentStep > 4"
          >
            <span></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Step Content -->
  <div class="row justify-content-center min-vh-100 align-items-center">
    <div class="col-12 col-md-6 col-lg-4">
      <!-- Registration Card -->
      <div class="registration-card shadow-sm">
        <!-- Step 1: Personal Information -->
        <div *ngIf="currentStep === 1">
          <div class="text-center mb-4">
            <h2 class="registration-title">Personal Information</h2>
          </div>

          <form [formGroup]="registrationForm">
            <!-- Legal Name Section -->
            <div class="mb-4">
              <label class="form-label section-label">Legal name</label>
              <div class="mb-3">
                <input
                  type="text"
                  class="form-control custom-input"
                  formControlName="firstName"
                  placeholder="First name on ID"
                  required
                />
              </div>
              <div
                class="validation-error"
                *ngIf="firstName?.invalid && firstName?.touched"
              >
                <div *ngIf="firstName?.errors?.['required']">
                  First Name is required
                </div>
              </div>

              <div class="mb-3">
                <input
                  type="text"
                  class="form-control custom-input"
                  formControlName="lastName"
                  placeholder="Last name on ID"
                  required
                />
              </div>
              <div
                class="validation-error"
                *ngIf="lastName?.invalid && lastName?.touched"
              >
                <div *ngIf="lastName?.errors?.['required']">
                  Last Name is required
                </div>
              </div>

              <p class="form-text text-muted small-text">
                Make sure this matches the name on your government-issued ID.
              </p>
            </div>

            <!-- Date of Birth Section -->
            <div class="mb-4">
              <label class="form-label section-label">Date of birth</label>
              <div class="mb-2">
                <label class="form-label small-label">Birthday</label>
              </div>

              <div class="row g-2">
                <div class="col-4">
                  <select
                    class="form-select custom-select"
                    formControlName="birthMonth"
                    required
                  >
                    <option value="">Month</option>
                    <option *ngFor="let month of months" [value]="month">
                      {{ month }}
                    </option>
                  </select>
                </div>

                <div class="col-4">
                  <select
                    class="form-select custom-select"
                    formControlName="birthDay"
                    required
                  >
                    <option value="">Day</option>
                    <option *ngFor="let day of days" [value]="day">
                      {{ day }}
                    </option>
                  </select>
                </div>
                <div class="col-4">
                  <select
                    class="form-select custom-select"
                    formControlName="birthYear"
                    required
                  >
                    <option value="">Year</option>
                    <option *ngFor="let year of years" [value]="year">
                      {{ year }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div
              class="validation-error"
              *ngIf="birthMonth?.invalid && birthMonth?.touched"
            >
              <div *ngIf="birthMonth?.errors?.['required']">
                Birth Month is required
              </div>
            </div>
            <div
              class="validation-error"
              *ngIf="birthDay?.invalid && birthDay?.touched"
            >
              <div *ngIf="birthDay?.errors?.['required']">
                Birth Date is required
              </div>
            </div>
            <div
              class="validation-error"
              *ngIf="birthYear?.invalid && birthYear?.touched"
            >
              <div *ngIf="birthYear?.errors?.['required']">
                Birth Year is required
              </div>
            </div>

            <!-- Contact Info Section -->
            <div class="mb-4">
              <label class="form-label section-label">Contact info</label>
              <div class="mb-3">
                <label class="form-label small-label">Email</label>
                <input
                  type="email"
                  class="form-control custom-input"
                  formControlName="email"
                  placeholder="Email Id"
                  required
                />
              </div>
            </div>
            <div
              class="validation-error"
              *ngIf="email?.invalid && email?.touched"
            >
              <div *ngIf="email?.errors?.['required']">Email is required</div>
              <div *ngIf="email?.errors?.['email']">Enter a valid email</div>
            </div>

            <!-- Navigation Buttons -->
            <div class="d-grid">
              <button
                type="button"
                class="btn btn-primary submit-btn"
                (click)="nextStep()"
              >
                Continue to Address
              </button>
              <!-- [disabled]="registrationForm.invalid" -->
            </div>
          </form>
        </div>

        <!-- Step 2: Address Details -->
        <div *ngIf="currentStep === 2">
          <div class="text-center mb-4">
            <h2 class="registration-title">Address Details</h2>
            <p class="text-muted">Confirm your property address</p>
          </div>

          <form [formGroup]="registrationForm">
            <div class="mb-3">
              <label class="form-label section-label">Street Address</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="streetAddress"
                placeholder="Street address"
              />
            </div>

            <div class="row g-2 mb-3">
              <div class="col-6">
                <label class="form-label section-label">City</label>
                <input
                  type="text"
                  class="form-control custom-input"
                  formControlName="city"
                  placeholder="City"
                />
              </div>
              <div class="col-6">
                <label class="form-label section-label">State</label>
                <input
                  type="text"
                  class="form-control custom-input"
                  formControlName="state"
                  placeholder="State"
                />
              </div>
            </div>

            <div class="row g-2 mb-4">
              <div class="col-6">
                <label class="form-label section-label">ZIP Code</label>
                <input
                  type="text"
                  class="form-control custom-input"
                  formControlName="zipCode"
                  placeholder="ZIP Code"
                />
              </div>
              <div class="col-6">
                <label class="form-label section-label">Country</label>
                <input
                  type="text"
                  class="form-control custom-input"
                  formControlName="country"
                  placeholder="Country"
                />
              </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="row g-2 mb-4">
              <div class="col-6">
                <button
                  type="button"
                  class="btn btn-outline-secondary back-btn w-100 h-100"
                  (click)="prevStep()"
                >
                  Back
                </button>
              </div>
              <div class="col-6">
                <button
                  type="button"
                  class="btn btn-primary submit-btn w-100 h-100"
                  (click)="nextStep()"
                >
                  Next
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- Step 3: Pet Info -->
        <div *ngIf="currentStep === 3">
          <!-- Basic Pet Info -->
          <div class="text-center mb-4">
            <h2 class="registration-title">Pet Rules & Information</h2>
            <p class="text-muted">Confirm your pet stay requirements</p>
          </div>
          <form [formGroup]="registrationForm">
            <div class="mb-3">
              <label class="form-label section-label"
                >Select Allowed Pets</label
              >
              <select
                class="form-select custom-input"
                formControlName="allowedPetsType"
                multiple
              >
                <option value="">Dogs</option>
                <option value="">Cats</option>
                <option value="">Birds</option>
              </select>
              <small class="form-text text-muted"
                >Select all pet types allowed.</small
              >
            </div>

            <!-- Pet Size restrictions-->
            <div class="mb-3">
              <label class="form-label section-label"
                >Pet Size Restrictions</label
              >
              <div class="btn-group" role="group">
                <input
                  type="checkbox"
                  class="btn-check custom-input"
                  name="petSize1"
                  id="sizeSmall"
                  autocomplete="off"
                />
                <label
                  class="btn btn-outline-secondary custom-input"
                  for="sizeSmall"
                  >Small</label
                >
                <input
                  type="checkbox"
                  class="btn-check custom-input"
                  name="petSize2"
                  id="sizeMedium"
                  autocomplete="off"
                />
                <label
                  class="btn btn-outline-secondary custom-input"
                  for="sizeMedium"
                  >Medium</label
                >
                <input
                  type="checkbox"
                  class="btn-check custom-input"
                  name="petSize3"
                  id="sizeLarge"
                  autocomplete="off"
                />
                <label
                  class="btn btn-outline-secondary custom-input"
                  for="sizeLarge"
                  >Large</label
                >
                <input
                  type="checkbox"
                  class="btn-check custom-input"
                  name="petSize4"
                  id="sizeNone"
                  autocomplete="off"
                />
                <label
                  class="btn btn-outline-secondary custom-input"
                  for="sizeNone"
                  >None</label
                >
              </div>
            </div>

            <!-- Total Allowed Pets -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Number of Pets Allowed</label
              >
              <input
                type="number"
                class="form-control custom-input"
                min="1"
                max="4"
                placeholder="e.g. 2"
              />
            </div>

            <!-- House Rules for Pets -->
            <div class="mb-3">
              <label class="form-label section-label">House Rules</label>
              <textarea
                class="form-control custom-input"
                rows="3"
                placeholder="Describe any house rules for pets..."
              ></textarea>
            </div>

            <h2 class="section-title">Care & Hygiene</h2>
            <!-- Required Vaccinations Dropdown (Multi-select) -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Required Vaccinations</label
              >
              <select
                class="form-select custom-select"
                formControlName="vaccinations"
                size="5"
                multiple
              >
                <!-- <option value="">Select Vaccinations</option> -->
                <option
                  *ngFor="let vaccinationName of vaccinationsName"
                  [ngValue]="vaccinationName"
                >
                  {{ vaccinationName }}
                </option>
              </select>
              <small class="form-text text-muted"
                >Select all required vaccinations.</small
              >
            </div>

            <!-- Neutered/Spayed Requirement -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Neutered/Spayed Required?</label
              >
              <div>
                <input
                  type="radio"
                  id="neuteredYes"
                  name="neutered"
                  class="form-check-input"
                />
                <label for="neuteredYes" class="form-check-label me-3"
                  >Yes</label
                >
                <input
                  type="radio"
                  id="neuteredNo"
                  name="neutered"
                  class="form-check-input"
                />
                <label for="neuteredNo" class="form-check-label">No</label>
              </div>
            </div>

            <!-- Flea/Tick Prevention Required -->
            <div class="mb-3">
              <label class="form-label section-label"
                >Flea/Tick Prevention Required?</label
              >
              <div>
                <input
                  type="radio"
                  id="fleatickYes"
                  name="fleatick"
                  class="form-check-input"
                />
                <label for="fleatickYes" class="form-check-label me-3"
                  >Yes</label
                >
                <input
                  type="radio"
                  id="fleatickNo"
                  name="fleatick"
                  class="form-check-input"
                />
                <label for="fleatickNo" class="form-check-label">No</label>
              </div>
            </div>

            <div class="row g-2 mb-4">
              <div class="col-6">
                <button
                  type="button"
                  class="btn btn-outline-secondary back-btn w-100 h-100"
                  (click)="prevStep()"
                >
                  Back
                </button>
              </div>
              <div class="col-6">
                <button
                  type="button"
                  class="btn btn-primary submit-btn w-100 h-100"
                  (click)="nextStep()"
                >
                  Next
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
